{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)601c786f-6478-49fe-8b83-81e9d3035188","ParentGuid":"(Guid)92de5624-4623-4b8d-b2b3-2c0455c02585","Name":"(string)StartAction","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)173","Tag":null,"Text":"(string)//Call Start Action form Device Base"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)162","Tag":null,"Text":"(string)SUPER^.StartAction(xComplete=>xComplete, iErrorID =>iErrorID);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)174","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)160","Tag":null,"Text":"(string)//Check if In and Output is set"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)180","Tag":null,"Text":"(string)//Read the Parameter for the IO input pointer which is generate in the special devicedescription"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)181","Tag":null,"Text":"(string)_pConfigParam := IoStandard.ConfigGetParameter(pIoConnector:= _itfDevice.Connector, dwParameterId := 2147483649);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)182","Tag":null,"Text":"(string)IF _pConfigParam <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)183","Tag":null,"Text":"(string)\t_pbyInputAdress := IoStandard.ConfigGetParameterValuePointer(_pConfigParam, pResult:=ADR(_udiResult));"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)179","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)206","Tag":null,"Text":"(string)_pConfigParam := IoStandard.ConfigGetParameter(pIoConnector:= _itfDevice.Connector, dwParameterId := 2200000102); //parameter for identifiy the Profile"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)204","Tag":null,"Text":"(string)IF _pConfigParam <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)205","Tag":null,"Text":"(string)\t_pPointerValue := IoStandard.ConfigGetParameterValuePointer(_pConfigParam, pResult:=ADR(_udiResult));"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)208","Tag":null,"Text":"(string)\tIF _pPointerValue <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)209","Tag":null,"Text":"(string)\t\tIF _pPointerValue^ = 16#94 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)211","Tag":null,"Text":"(string)\t\t\t_ePkeProfile := tePkeProfile.eProfile3;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)213","Tag":null,"Text":"(string)\t\tELSIF _pPointerValue^ = 16#93 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)214","Tag":null,"Text":"(string)\t\t\t_ePkeProfile := tePkeProfile.eProfile2;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)215","Tag":null,"Text":"(string)\t\tELSIF _pPointerValue^ = 16#91 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)216","Tag":null,"Text":"(string)\t\t\t_ePkeProfile := tePkeProfile.eProfile1;\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)212","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)210","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)202","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)151","Tag":null,"Text":"(string)IF _pbyInputAdress <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)175","Tag":null,"Text":"(string)\t{analysis -19} //convert from input and output pointer to expected IO structure for PKE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)164","Tag":null,"Text":"(string)\tIF _eBusType = DED.BUS_TYPE.VEN_SPEC THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)200","Tag":null,"Text":"(string)\t\tIF    _ePkeProfile = tePkeProfile.eProfile3 THEN //Profile3"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)152","Tag":null,"Text":"(string)\t\t\t_pstPkeProfil3 := _pbyInputAdress;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)217","Tag":null,"Text":"(string)\t\tELSIF  _ePkeProfile = tePkeProfile.eProfile2 THEN //Profile2"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)218","Tag":null,"Text":"(string)\t\t\t_pstPkeProfil2 := _pbyInputAdress;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)233","Tag":null,"Text":"(string)\t\tELSIF  _ePkeProfile = tePkeProfile.eProfile1 THEN //Profile1"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)234","Tag":null,"Text":"(string)\t\t\t_pstPkeProfil1 := _pbyInputAdress;\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)201","Tag":null,"Text":"(string)\t\tEND_IF\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)236","Tag":null,"Text":"(string)\t\t{IF defined (variable: _ModuleInfo)}\t\t\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)237","Tag":null,"Text":"(string)\t\t_ModuleInfo.xExecute := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)235","Tag":null,"Text":"(string)\t\t{END_IF}"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)165","Tag":null,"Text":"(string)\tELSIF _eBusType = DED.BUS_TYPE.MODBUS_RTU THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)167","Tag":null,"Text":"(string)\t\t_pstModInp := _pbyInputAdress;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)166","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)153","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)154","Tag":null,"Text":"(string)\teErrorCode := teErrorCodeEaton.InpAddressMiss; //wrong configuration"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)177","Tag":null,"Text":"(string)\tiErrorID := TO_INT(eErrorCode);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)155","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)193","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)189","Tag":null,"Text":"(string)//Read the Parameter for the IO output pointer which is generate in the special devicedescription"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)190","Tag":null,"Text":"(string)_pConfigParam := IoStandard.ConfigGetParameter(pIoConnector:= _itfDevice.Connector, dwParameterId := 2147483648);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)191","Tag":null,"Text":"(string)IF _pConfigParam <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)192","Tag":null,"Text":"(string)\t_pbyOutputAdress := IoStandard.ConfigGetParameterValuePointer(_pConfigParam, pResult:=ADR(_udiResult));"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)188","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)156","Tag":null,"Text":"(string)IF _pbyOutputAdress <> 0 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)169","Tag":null,"Text":"(string)\tIF _eBusType = DED.BUS_TYPE.VEN_SPEC THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)170","Tag":null,"Text":"(string)\t\t_pstPkeOutput := _pbyOutputAdress;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)171","Tag":null,"Text":"(string)\tELSIF _eBusType = DED.BUS_TYPE.MODBUS_RTU THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)172","Tag":null,"Text":"(string)\t\t_pstModOut := _pbyOutputAdress;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)168","Tag":null,"Text":"(string)\tEND_IF\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)176","Tag":null,"Text":"(string)\t{analysis +19}\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)158","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)178","Tag":null,"Text":"(string)\teErrorCode := teErrorCodeEaton.OutAddressMiss; //wrong configuration "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)159","Tag":null,"Text":"(string)\tiErrorID := TO_INT(eErrorCode);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)14","Tag":null,"Text":"(string)END_IF\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)161","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)150","Tag":null,"Text":"(string)xComplete := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)5","Tag":null,"Text":"(string)\t"}}]}}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)219","Tag":null,"Text":"(string)//Initalization Routine"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)220","Tag":null,"Text":"(string)(*Init for Drive FB*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)221","Tag":null,"Text":"(string){attribute 'naming' := 'omit'} "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)222","Tag":null,"Text":"(string)METHOD StartAction"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)223","Tag":null,"Text":"(string)VAR_OUTPUT"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)224","Tag":null,"Text":"(string)\txComplete\t: BOOL;\t\t//Setting and Init Done, if the Variable is True the Method Cyclic will be called"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)225","Tag":null,"Text":"(string)\tiErrorID\t: INT;\t\t//if Error is happen set ErrorID to Error Code, after that CLeanUp will Call with Error ID as an Input"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)226","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)227","Tag":null,"Text":"(string)VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)228","Tag":null,"Text":"(string)\t_pConfigParam \t: POINTER TO IoConfigParameter;\t//Pointer to a Parameter from DeviceDescription"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)229","Tag":null,"Text":"(string)\t_pPointerValue\t: POINTER TO BYTE;\t\t\t\t//Pointer to a Value in the Device Description"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)230","Tag":null,"Text":"(string)\t_udiResult \t\t: UDINT;\t\t\t\t\t\t//Result from Function to read Parameters\t\t\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)232","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)92","Tag":null,"Text":"(string)"}}]}}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a5de0b0b":"{a5de0b0b-1cb5-4913-ac21-9d70293ec00d}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","long":"System.Int64","string":"System.String"}}},"FormatVersion":"1.0"}